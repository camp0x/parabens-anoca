<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Seus Presentes ‚ú®</title>

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: "Segoe UI", sans-serif; }

    body{
      height: 100vh;
      overflow: hidden;
      background: radial-gradient(circle at top, #1b1b2f, #0f0f1a 55%, #090912);
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 40px 16px;
    }

    /* ‚úÖ fade entre p√°ginas */
    .page{
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      animation: pageIn .55s ease forwards;
    }
    @keyframes pageIn{ from{opacity:0} to{opacity:1} }
    .page.fade-out{ animation: pageOut .45s ease forwards; }
    @keyframes pageOut{ from{opacity:1} to{opacity:0} }

    .wrap{
      width: min(980px, 100%);
      text-align: center;
      position: relative;
    }

    h1{
      font-size: clamp(1.6rem, 3.5vw, 2.4rem);
      margin-bottom: 6px;
    }

    p.sub{
      opacity: .9;
      margin-bottom: 8px;
    }

    .order{
      margin-bottom: 18px;
      font-size: .95rem;
      opacity: .7;
      font-style: italic;
    }

    .grid{
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 18px;
    }

    @media (max-width: 900px){
      .grid{ grid-template-columns: repeat(2, 1fr); }
    }
    @media (max-width: 520px){
      .grid{ grid-template-columns: 1fr; }
    }

    .card{
      perspective: 1200px;
      height: 220px;
      position: relative;
    }

    .inner{
      position: relative;
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
      transition: transform .7s ease;
    }

    .card.flipped .inner{
      transform: rotateY(180deg);
    }

    .face{
      position: absolute;
      inset: 0;
      border-radius: 18px;
      backface-visibility: hidden;
      padding: 18px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      box-shadow: 0 18px 40px rgba(0,0,0,.4);
      border: 1px solid rgba(255,255,255,.1);
    }

    .front{
      background: linear-gradient(135deg, #ff7a9c33, #78d6ff22);
      cursor: pointer;
      transition: filter .2s ease, opacity .2s ease;
    }

    .front h3{ font-size: 1.1rem; margin-bottom: 6px; }
    .front span{ font-size: .85rem; opacity: .7; }

    .back{
      background: linear-gradient(135deg, #ffffff22, #ffffff08);
      transform: rotateY(180deg);
      text-align: left;
      cursor: pointer;
    }

    .back h4{ margin-bottom: 6px; }
    .back p{ font-size: .95rem; line-height: 1.45; }

    /* ‚úÖ CARTA 5 ‚Äì texto autom√°tico + padding menor */
    .carta5 .face{ padding: 14px; }
    .carta5 .back p{
      font-size: clamp(.75rem, 1.6vw, .88rem);
      line-height: 1.25;
    }

    /* ‚úÖ bot√£o-link (A) */
    .mini-link{
      margin-top: 12px;
      align-self: flex-start;
      padding: 10px 14px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.2);
      background: rgba(255,255,255,.15);
      color: #fff;
      text-decoration: none;
      cursor: pointer;
      display: inline-block;
    }

    /* üîí visual de bloqueado */
    .card.locked .front{
      opacity: .55;
      filter: grayscale(.35);
      cursor: not-allowed;
    }

    /* üí¨ toast */
    .toast{
      position: absolute;
      left: 50%;
      bottom: -6px;
      transform: translateX(-50%);
      background: rgba(0,0,0,.55);
      border: 1px solid rgba(255,255,255,.14);
      padding: 10px 14px;
      border-radius: 999px;
      font-size: .9rem;
      opacity: 0;
      pointer-events: none;
      backdrop-filter: blur(6px);
      transition: opacity .2s ease, transform .2s ease;
      white-space: nowrap;
    }
    .toast.show{
      opacity: 1;
      transform: translateX(-50%) translateY(-6px);
    }
  </style>
</head>

<body>
  <div class="page" id="page">
    <div class="wrap">
      <h1>voc√™ me pergunta qual m√°gica eu fa√ßo pra te prender aqui... ‚ú®</h1>
      <p class="sub">vou te falar os motivos do porque <strong>VOC√ä</strong> me prende aqui ü™Ñ</p>
      <div class="order">abre na ordem</div>

      <div class="grid" id="grid">
        <!-- Carta 1 -->
        <div class="card" data-index="1">
          <div class="inner">
            <div class="face front">
              <h3>Voc√™ √© muito inteligente</h3>
              <span>carta 1</span>
            </div>
            <div class="face back">
              <h4>Motivo 1</h4>
              <p>
                Voc√™ √© extremamente inteligente e sempre me ensina umas coisas
                aleat√≥rias do nada‚Ä¶ e eu fico tipo ‚Äúcomo voc√™ sabe isso?‚Äù kkk
              </p>
            </div>
          </div>
        </div>

        <!-- Carta 2 -->
        <div class="card locked" data-index="2">
          <div class="inner">
            <div class="face front">
              <h3>Voc√™ se importa comigo</h3>
              <span>carta 2</span>
            </div>
            <div class="face back">
              <h4>Motivo 2</h4>
              <p>
                Voc√™ lembra de mim sempre que pode.
                Nos detalhes, nas mensagens, nas pequenas coisas.
                Eu percebo ‚Äî e isso significa muito.
              </p>
            </div>
          </div>
        </div>

        <!-- Carta 3 -->
        <div class="card locked" data-index="3">
          <div class="inner">
            <div class="face front">
              <h3>A saudade √© boa</h3>
              <span>carta 3</span>
            </div>
            <div class="face back">
              <h4>Motivo 3</h4>
              <p>
                Mesmo de longe, eu te sinto perto.
                Voc√™ me d√° uma saudade boa, daquelas que aquecem
                em vez de doer.
              </p>
            </div>
          </div>
        </div>

        <!-- Carta 4 -->
        <div class="card locked" data-index="4">
          <div class="inner">
            <div class="face front">
              <h3>Voc√™ me segura</h3>
              <span>carta 4</span>
            </div>
            <div class="face back">
              <h4>Motivo 4</h4>
              <p>
                Voc√™ me segura e me faz sentir a melhor pessoa
                mesmo nos meus piores momentos.
                Isso n√£o √© pouco.
              </p>
            </div>
          </div>
        </div>

        <!-- Carta 5 -->
        <div class="card carta5 locked" data-index="5">
          <div class="inner">
            <div class="face front">
              <h3>As pequenas coisas</h3>
              <span>carta 5</span>
            </div>
            <div class="face back">
              <h4>Motivo especial</h4>
              <p>
                Eu adoro o seu sorriso.<br>
                O seu cabelo vermelho.<br>
                Seu estilo maluco que sempre me faz rir.<br><br>

                Amo ver que voc√™ consegue ser meiga e g√≥tica ao mesmo tempo
                (e ainda ficar linda nisso).<br><br>

                E uma coisa <strong>B√ÅSICA</strong>:
                amo seus pijamas, suas fotos aleat√≥rias
                e tudo que vem de voc√™.
              </p>
            </div>
          </div>
        </div>

        <!-- Carta 6 -->
        <div class="card locked" data-index="6">
          <div class="inner">
            <div class="face front">
              <h3>Acha que acabou?</h3>
              <span>carta 6</span>
            </div>
            <div class="face back">
              <h4>√öltima surpresa</h4>
              <p>Agora sim‚Ä¶ o parab√©ns completo.</p>

              <!-- ‚úÖ link + data-go (fade) -->
              <a
                class="mini-link"
                href="parabenscompleto.html"
                data-go="parabenscompleto.html"
                id="linkParabens"
              >
                Abrir üéÇ
              </a>
            </div>
          </div>
        </div>
      </div>

      <div class="toast" id="toast"></div>
    </div>
  </div>

  <script>
    const page = document.getElementById('page');
    const toast = document.getElementById('toast');
    const cards = Array.from(document.querySelectorAll('.card'));
    const MAX = 6;

    const openedOnce = new Set();
    let nextAllowed = 1;

    function showToast(msg){
      toast.textContent = msg;
      toast.classList.add('show');
      clearTimeout(showToast._t);
      showToast._t = setTimeout(() => toast.classList.remove('show'), 1400);
    }

    function unlockCard(idx){
      const c = cards.find(x => Number(x.dataset.index) === idx);
      if (c) c.classList.remove('locked');
    }

    unlockCard(1);

    cards.forEach(card => {
      card.addEventListener('click', (e) => {
        // se clicou num link dentro da carta, n√£o mexe na carta
        if (e.target.closest('a')) return;

        const idx = Number(card.dataset.index);

        // depois de abrir tudo, pode abrir/fechar livre
        if (nextAllowed > MAX) {
          card.classList.toggle('flipped');
          return;
        }

        const isFlipped = card.classList.contains('flipped');

        // tentar abrir fora da ordem
        if (!isFlipped && idx !== nextAllowed) {
          showToast(`abre a carta ${nextAllowed} primeiro üòå`);
          return;
        }

        // n√£o fechar a carta atual antes de abrir a pr√≥xima
        const current = nextAllowed - 1;
        if (isFlipped && idx === current) {
          showToast(`abre a carta ${nextAllowed} antes de fechar üòÖ`);
          return;
        }

        card.classList.toggle('flipped');

        // conta s√≥ uma vez
        if (!openedOnce.has(idx) && card.classList.contains('flipped') && idx === nextAllowed) {
          openedOnce.add(idx);
          nextAllowed = Math.min(nextAllowed + 1, MAX + 1);

          if (nextAllowed <= MAX) {
            unlockCard(nextAllowed);
            if (nextAllowed === 6) showToast('agora pode‚Ä¶ üëÄ');
          } else {
            showToast('todas abertas üòå');
          }
        }
      });
    });

    // ‚úÖ fade ao navegar (funciona em links com data-go)
    document.addEventListener('click', (e) => {
      const go = e.target.closest('[data-go]');
      if (!go) return;

      // important√≠ssimo: impedir navega√ß√£o imediata pra dar tempo do fade
      e.preventDefault();
      e.stopPropagation();

      const url = go.getAttribute('data-go');
      page.classList.add('fade-out');
      setTimeout(() => window.location.href = url, 420);
    });

    // ‚úÖ Esc volta pro in√≠cio
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        page.classList.add('fade-out');
        setTimeout(() => window.location.href = 'index.html', 420);
      }
    });
  </script>
</body>
</html>
